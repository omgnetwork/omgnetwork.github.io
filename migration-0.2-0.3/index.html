<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Introducing v0.3 (ODP Edition) · OMG Network</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## What we learned in v0.2"/><meta name="docsearch:version" content="1.0.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Introducing v0.3 (ODP Edition) · OMG Network"/><meta property="og:type" content="website"/><meta property="og:url" content="https://omgnetwork.github.io/"/><meta property="og:description" content="## What we learned in v0.2"/><meta property="og:image" content="https://omgnetwork.github.io/img/logo/omg-blue.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://omgnetwork.github.io/img/logo/omg-blue.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-154130721-1"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-154130721-1');
            </script><link rel="stylesheet" href="/css/code-block-buttons.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"/><script type="text/javascript" src="js/typeform.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="js/intercom.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo/omg-white.svg" alt="OMG Network"/></a><a href="/versions"><h3>1.0.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/welcome" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/api" target="_self">APIs</a></li><li class=""><a href="https://omg.network" target="_blank">Product</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>6. Migration Guides</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">1. Introduction</h3><ul class=""><li class="navListItem"><a class="navItem" href="/welcome">About the OMG Network</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">2. Tutorials</h3><ul class=""><li class="navListItem"><a class="navItem" href="/tutorials-intro">Introduction</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">OMG Network</h4><ul><li class="navListItem"><a class="navItem" href="/retrieve-balances">Retrieve Balances</a></li><li class="navListItem"><a class="navItem" href="/deposits">Deposit Funds</a></li><li class="navListItem"><a class="navItem" href="/transfers">Make a Transfer</a></li><li class="navListItem"><a class="navItem" href="/standard-exits">Start a Standard Exit</a></li><li class="navListItem"><a class="navItem" href="/in-flight-exits">Start an In-flight Exit</a></li><li class="navListItem"><a class="navItem" href="/process-exits">Process an Exit</a></li><li class="navListItem"><a class="navItem" href="/managing-utxos">Merge or Split UTXO</a></li><li class="navListItem"><a class="navItem" href="/challenging-exits">Challenge an Exit</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">OMG Wallet</h4><ul><li class="navListItem"><a class="navItem" href="/quick-start-webwallet">Web Wallet Quick Start</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">3. How-to Guides</h3><ul class=""><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Watcher</h4><ul><li class="navListItem"><a class="navItem" href="/run-watcher-locally">Run a Watcher Locally</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">4. Concepts</h3><ul class=""><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">OMG Network</h4><ul><li class="navListItem"><a class="navItem" href="/blockchain-design">Blockchain Design</a></li><li class="navListItem"><a class="navItem" href="/byzantine-conditions">Byzantine Conditions</a></li><li class="navListItem"><a class="navItem" href="/network-architecture">Network Architecture</a></li><li class="navListItem"><a class="navItem" href="/challenge-period">Challenge Period</a></li><li class="navListItem"><a class="navItem" href="/exitbonds">Exit Bonds</a></li><li class="navListItem"><a class="navItem" href="/fees">Fees</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Plasma</h4><ul><li class="navListItem"><a class="navItem" href="/morevp-technical-overview">MoreVP Technical Overview</a></li><li class="navListItem"><a class="navItem" href="/plasma-proposition">The Plasma Proposition</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">5. Resources</h3><ul class=""><li class="navListItem"><a class="navItem" href="/glossary">Glossary</a></li><li class="navListItem"><a class="navItem" href="/faq">FAQ</a></li><li class="navListItem"><a class="navItem" href="/api">API References</a></li><li class="navListItem"><a class="navItem" href="/environments">Environments</a></li><li class="navListItem"><a class="navItem" href="/release-notes">Release Notes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">6. Migration Guides</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/migration-0.2-0.3">0.2 to 0.3</a></li><li class="navListItem"><a class="navItem" href="/migration-0.3-0.4">0.3 to 0.4</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Introducing v0.3 (ODP Edition)</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="what-we-learned-in-v02"></a><a href="#what-we-learned-in-v02" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What we learned in v0.2</h2>
<p>When we launched Samrong (OMG Network v0.2), we asked users who were already using Ari (v0.1) to perform a “hard upgrade” to move their tokens to the new environment. The process involved performing an exit from Ari and re-depositing your tokens into Samrong. This is all due to the nature of plasma security and smart contracts. In order for the operator to upgrade the Network, the whole system needs to be re-deployed from scratch. This makes it very difficult to maintain and there is a lot of complex steps for the users to perform an upgrade.</p>
<h2><a class="anchor" aria-hidden="true" id="introducing-omg-plasma-framework"></a><a href="#introducing-omg-plasma-framework" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introducing OMG Plasma Framework</h2>
<p>Since v0.2, we’ve been working on an extensible framework based on Plasma Group’s predicate work, which we call The OMG Plasma Framework. We introduced multiple abstractions, which allows for the child chain operator to add new functionality the Network <em>without</em> the need for users to perform hard upgrades. While this doesn’t entirely rule out a hard upgrade in the future, it does mean that we can roll out new features such as new token types and new transaction types beyond simple peer to peer payments.</p>
<h2><a class="anchor" aria-hidden="true" id="whats-new"></a><a href="#whats-new" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What’s new?</h2>
<p>What this looks like for client application, is that instead of having one single monolithic contract like in v0.2, the framework introduces more entry points, with each contract fulfilling a different purpose:</p>
<ul>
<li><code>Erc20Vault</code>: a vault for clients to deposit ERC20 tokens</li>
<li><code>EthVault</code>: a vault for clients to deposit ETH</li>
<li><code>PlasmaFramework</code>: a central Plasma framework smart contract</li>
<li><code>PaymentExitGame</code>: a smart contract that maintains Plasma security for payment transaction type.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="known-issues"></a><a href="#known-issues" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Known Issues</h2>
<p>Due to the current Samrong downtime, we are deploying this environment to the ODP much earlier than we had planned. This motivation of this early release is to allow ODP members to continue their integration work while we investigate the current issues with Samrong. While the major happy paths are working, we are still in the process of validating the new network, as well as finishing any supporting libraries and documentation.</p>
<p>Things to be aware of:</p>
<ul>
<li>These contracts are under audit and subject to change before launching the full Lumphini network</li>
<li>omg-js (version 3.0.0-alpha.6) does not yet support challenging invalid piggyback events. As well as some implementation examples in the repository being out of date and needing to be updated.</li>
<li>js-starter-kit support for v0.3 and documentation is not yet available on master branch</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="migrating-from-v02-samrong-to-v03-pre-lumphini"></a><a href="#migrating-from-v02-samrong-to-v03-pre-lumphini" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migrating from v0.2 (Samrong) to v0.3 (pre-Lumphini)</h2>
<p>There small changes API changes in the Watcher APIs relating to Exits. There are more significant changes to the way the contracts are organized. Here’s how to get your v0.2 integration working with v0.3:</p>
<p>Update your Watcher and Child Chain endpoints to match the new <a href="https://github.com/omisego/dev-portal/blob/master/guides/network_endpoints.md"><code>pre-lumpini</code> services</a></p>
<h3><a class="anchor" aria-hidden="true" id="deposits"></a><a href="#deposits" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deposits</h3>
<ul>
<li>Deposits now go to a vault contract, depending on whether you are depositing ETH or an ERC-20 token. You must now send your deposits to the correct vault contract. If using ETH, deposit into ETH_VAULT. If using ERC-20 send your deposits to the ERC20_VAULT.</li>
<li>If depositing ERC-20, the same process of approving still applies - you must approve the ERC20_VAULT address to transfer the amount of tokens that you want to deposit.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="transactions"></a><a href="#transactions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Transactions</h3>
<ul>
<li>The structure of typed data has changed slightly in v0.3, still following the EIP-712 signing method. Please refer to the following if building and <a href="https://github.com/omisego/plasma-contracts/blob/master/plasma_framework/docs/integration-docs/integration-doc.md#eip-712-signing">signing the transaction</a> yourself.</li>
<li>omg-js provides many helper methods that abstract away these details to create and submit a Child Chain transaction with v0.3.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="exits"></a><a href="#exits" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exits</h3>
<ul>
<li>In v0.3, exits for both ETH and ERC-20 have a prerequisite that an exit queue must exist for the token that is being exited. A new exit queue can be created by calling ‘addExitQueue’ on the Plasma Framework contract, specifying the vault id of the token (1 for ETH, 2 for ERC-20).</li>
<li>Exits and their challenges are now called from the PaymentExitGame contract. The inputs for both standard and in flight exits have changed slightly. Please see below for implementation detail with regards to the Omg-js library.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="omg-js"></a><a href="#omg-js" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>omg-js</h2>
<ul>
<li><p>For reference implementation of each process, it is recommended to go through the <a href="https://github.com/omisego/omg-js/tree/v0.3/packages/integration-tests/test">integration tests</a> written in the library.</p></li>
<li><p>Childchain object instantiation now accepts a proxy url for requests made to the watcher</p>
<ul>
<li>v0.2: <code>new ChildChain(config.watcher_url)</code></li>
<li>v0.3: <code>new ChildChain({ watcherUrl, watcherProxyUrl })</code></li>
</ul></li>
<li><p>Inputs to starting an in flight exit have changed slightly</p>
<ul>
<li>v0.2: <code>rootChain.startInFlightExit(inflightTx, inputTx, inputTxInclusionProofs, inflightTxSigs, txOptions)</code></li>
<li>v0.3: <code>rootChain.startInFlightExit(inflightTx, inputTx, inputTxInclusionProofs, inflightTxSigs, inputUtxoPos, sigs, outputGuardPreImageForInputs, inputSpendingConditionOptionalArgs, txOptions)</code></li>
</ul></li>
<li><p>Challenging standard exits have added an extra input</p>
<ul>
<li>v0.2: <code>rootChain.challengeStandardExit(exitId, txbytes, inputIndex, sig, options)</code></li>
<li>v0.3: <code>rootChain.challengeStandardExit(exitId, exitingTx, txbytes, inputIndex, sig, options)</code></li>
</ul></li>
<li><p>Vault addresses and the exit game contract address can be retrieved directly from the rootChain object for integration with ALD</p>
<ul>
<li><code>rootChain.getErc20VaultAddress()</code></li>
<li><code>rootChain.getEthVaultAddress()</code></li>
<li><code>rootChain.getPaymentExitGameAddress()</code></li>
</ul></li>
<li><p>Piggypacking in flight exits on output have changed</p>
<ul>
<li>v0.2: <code>rootChain.piggybackInFlightExit(inflightTx, outputIndex, options)</code></li>
<li>v0.3: <code>rootChain.piggybackInFlightExitOnOutput(inflightTx, outputIndex, outputGuardPreImage, options)</code></li>
</ul></li>
<li><p>Challenging non canonical inflight exits</p>
<ul>
<li>v0.2: <code>challengeInFlightExitNotCanonical(inFlightTx, inFlightTxInputIndex, competingTx, competingTxInputIndex, competingTxPos, competingTxInclusionProof, competingTxSig, txOptions)</code></li>
<li>v0.3: <code>challengeInFlightExitNotCanonical({ inputTx, inputUtxoPos, inFlightTx, inFlightTxInputIndex, competingTx, competingTxInputIndex, outputGuardPreimage, competingTxPos, competingTxInclusionProof, competingTxWitness, competingTxConfirmSig, competingTxSpendingConditionOptionalArgs, txOptions })</code></li>
</ul></li>
<li><p>Checking whether a token has been added to the exit queue is now possible with v0.3</p>
<ul>
<li><code>rootChain.hasToken(token)</code></li>
</ul></li>
<li><p>The Omg-js-util package has exported some new helpers including</p>
<ul>
<li><code>hexPrefix</code>: helper for prefixing hex values</li>
<li><code>ethErrorReason</code>: helper for decoding error messages received from the EVM</li>
</ul></li>
<li><p>The ChildChain object has exported new helper methods to facilitate sending transactions</p>
<ul>
<li><code>signTypedData(txData, privateKeys)</code>: signs transaction typed data returned from the createTransaction call</li>
<li><code>submitTyped(data)</code>: submits a transaction along with its typed data and signatures to the watcher</li>
</ul></li>
<li><p>If using a supported web3 version, callbacks can be passed when depositing to get more detailed information during the entire transaction lifecycle, instead of just on receipt. This is however still a work in progress to be able to support all transaction calls.</p></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="watcher-api-changes"></a><a href="#watcher-api-changes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Watcher API Changes</h2>
<ul>
<li><a href="https://developer.omisego.co/elixir-omg/docs-ui/?url=master%2Foperator_api_specs.yaml&amp;urls.primaryName=master%2Fsecurity_critical_api_specs#/InFlightExit/in_flight_exit_get_data"><code>/in_flight_exit.get_data</code></a>
<ul>
<li>Response:
<ul>
<li><code>input_txs</code>: is now an array of hex encoded binaries, instead of one concatenated binary</li>
<li><code>input_txs_inclusion_proofs</code>: same as above</li>
<li><code>in_flight_tx_sigs</code>: same as above</li>
<li><code>input_utxos_pos</code>: new field, an array of utxo positions of inputs to the ife tx</li>
</ul></li>
</ul></li>
<li><a href="https://developer.omisego.co/elixir-omg/docs-ui/?url=master%2Foperator_api_specs.yaml&amp;urls.primaryName=master%2Fsecurity_critical_api_specs#/InFlightExit/in_flight_exit_get_competitor"><code>/in_flight_exit.get_competitor</code></a>
<ul>
<li>Response:
<ul>
<li><code>input_tx</code>: new field, hex encoded binary with the transaction that created the double-spent input</li>
<li><code>input_utxo_pos</code>: new field, utxo position of the double-spent input</li>
</ul></li>
</ul></li>
<li><a href="https://developer.omisego.co/elixir-omg/docs-ui/?url=master%2Foperator_api_specs.yaml&amp;urls.primaryName=master%2Fsecurity_critical_api_specs#/InFlightExit/in_flight_exit_get_input_challenge_data"><code>/in_flight_exit.get_input_challenge_data</code></a>
<ul>
<li>Response:
<ul>
<li>Same changes as <code>/in_flight_exit.get_competitor</code> above</li>
</ul></li>
</ul></li>
<li><a href="https://developer.omisego.co/elixir-omg/docs-ui/?url=master%2Foperator_api_specs.yaml&amp;urls.primaryName=master%2Fsecurity_critical_api_specs#/Status/status_get"><code>/status.get</code></a>
<ul>
<li>Response:
<ul>
<li><code>contract_addr</code>: instead of a hex encoded binary, now an object with entries being pairs of “name: contract_address”; all contract addresses within the object are hex encoded binaries</li>
</ul></li>
</ul></li>
<li><a href="https://developer.omisego.co/elixir-omg/docs-ui/?url=master%2Foperator_api_specs.yaml&amp;urls.primaryName=master%2Fsecurity_critical_api_specs#/UTXO/utxo_get_challenge_data"><code>/utxo.get_challenge_data</code></a>
<ul>
<li>Response:
<ul>
<li><code>exiting_tx</code>: new field, hex encoded binary with the transaction that created the exiting output</li>
</ul></li>
</ul></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/release-notes"><span class="arrow-prev">← </span><span>Release Notes</span></a><a class="docs-next button" href="/migration-0.3-0.4"><span>0.3 to 0.4</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#what-we-learned-in-v02">What we learned in v0.2</a></li><li><a href="#introducing-omg-plasma-framework">Introducing OMG Plasma Framework</a></li><li><a href="#whats-new">What’s new?</a></li><li><a href="#known-issues">Known Issues</a></li><li><a href="#migrating-from-v02-samrong-to-v03-pre-lumphini">Migrating from v0.2 (Samrong) to v0.3 (pre-Lumphini)</a><ul class="toc-headings"><li><a href="#deposits">Deposits</a></li><li><a href="#transactions">Transactions</a></li><li><a href="#exits">Exits</a></li></ul></li><li><a href="#omg-js">omg-js</a></li><li><a href="#watcher-api-changes">Watcher API Changes</a></li></ul></nav></div><div class="footer-content"><div class="footer-wrapper"><div class="footer-column"><span class="footer-title">Getting Started</span><span class="footer-item"><a target="_blank" href="morevp-technical-overview">MoreVP Architecture</a></span><span class="footer-item"><a target="_blank" href="quick-start-webwallet">Web Wallet Quick Start</a></span><span class="footer-item"><a target="_blank" href="https://github.com/omisego/web-wallet">Web Wallet Code</a></span><span class="footer-item"><a target="_blank" href="https://github.com/omisego/omg-samples">OMG Samples</a></span></div><div class="footer-column"><span class="footer-title">API References</span><span class="footer-item"><a target="_blank" href="https://docs.omg.network/elixir-omg/docs-ui/?url=master%2Foperator_api_specs.yaml&amp;urls.primaryName=master%2Finfo_api_specs">Watcher
Informational API</a></span><span class="footer-item"><a target="_blank" href="https://docs.omg.network/elixir-omg/docs-ui/?url=master%2Foperator_api_specs.yaml&amp;urls.primaryName=master%2Fsecurity_critical_api_specs">Watcher
Security Critical API</a></span><span class="footer-item"><a target="_blank" href="https://docs.omg.network/elixir-omg/docs-ui">Child Chain API</a></span></div><div class="footer-column"><span class="footer-title">Integration Docs</span><span class="footer-item"><a target="_blank" href="https://github.com/omisego/elixir-omg/blob/master/README.md">Elixir-omg</a></span><span class="footer-item"><a target="_blank" href="https://github.com/omisego/omg-js/blob/master/README.md">Omg-js</a></span><span class="footer-item"><a target="_blank" href="tutorials-intro">Tutorials</a></span><span class="footer-item"><a target="_blank" href="https://github.com/omisego/plasma-contracts">Plasma Contracts</a></span></div><div class="footer-column"><span class="footer-title">Resources</span><span class="footer-item"><a target="_blank" href="https://omg.eco/blockexplorer">Block Explorer</a></span><span class="footer-item"><a target="_blank" href="https://www.omg.network">OMG Network</a></span><span class="footer-item"><a target="_blank" href="https://github.com/omisego">Github</a></span></div><div class="footer-column"><span class="footer-title">Follow us</span><span class="footer-item"><a target="_blank" href="https://twitter.com/omgnetworkhq"><img src="/img/social/twitter.svg" alt="twitter" class="footer-social"/></a><a target="_blank" href="https://www.linkedin.com/company/omgnetwork/"><img src="/img/social/linkedin.svg" alt="linkedin" class="footer-social"/></a><a target="_blank" href="https://github.com/omisego"><img src="/img/social/github.svg" alt="github" class="footer-social"/></a><br/> <br/><span class="footer-copyright">© 2019-present OMG Network.
All rights reserved</span></span></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'af8e7b1e7bcb8af0f31e1c3aca2f8d16',
                indexName: 'omisego',
                inputSelector: '#search_input_react'
              });
            </script></body></html>